% model_reclas

\begin{tikzpicture}

% define nodes

% decisions

\node[latent,minimum size=9mm] (up) {$u_{t-1}$};
\node[const, left=2cm of up,minimum size=9mm] (ud) {$\ldots$};
\node[latent, right=3cm of up,minimum size=9mm] (ut) {$u_{t}$};
\node[latent, right=3cm of ut,minimum size=9mm] (un) {$u_{t+1}$};
\node[const, right=2cm of un,minimum size=9mm] (uf) {$\ldots$};
% truth
\node[const, above=2cmof up,xshift=-3cm,minimum size=9mm] (yd) {$\ldots$};
\node[latent, above=2cm  of up,minimum size=9mm] (yp) {$y_{t-1}$};
\node[latent, right=3cm  of yp, minimum size=9mm] (yt) {$y_{t}$};
\node[latent, right=3cm  of yt,minimum size=9mm] (yn) {$y_{t+1}$};
% prediction
\node[latent, above=of yp, xshift=-1cm,minimum size=9mm] (yhp) {$\hat{y}_{t-1}$};
\node[latent, above=of yt, xshift=-1cm,minimum size=9mm] (yht) {$\hat{y}_{t  }$};
\node[latent, above=of yn, xshift=-1cm,minimum size=9mm] (yhn) {$\hat{y}_{t+1}$};
\node[const, right=3cm  of yhn,minimum size=9mm] (yf) {$\ldots$};
% observation
\node[obs, above=of yhp,minimum size=9mm] (xp) {$x_{t-1}$};
\node[obs, above=of yht,minimum size=9mm] (xt) {$x_{t}$};
\node[obs, above=of yhn,minimum size=9mm] (xn) {$x_{t+1}$};
% intervention
\node[obs, right=1cm of xp,minimum size=9mm] (rp) {$r_{t-1}$};
\node[obs, right=1cm of xt,minimum size=9mm] (rt) {$r_{t}$};
\node[obs, right=1cm of xn,minimum size=9mm] (rn) {$r_{t+1}$};


% edges

\edge {xp,yd} {yhp};
\edge {xt,yp} {yht};
\edge {xn,yt} {yhn};

\edge{rp, yhp} {yp};
\edge{rt, yht} {yt};
\edge{rn, yhn} {yn};
\edge {yn} {yf};
\edge {yp, ud} {up};
\edge {yt, up} {ut};
\edge {yn, ut} {un};
\edge {un} {uf};

% plates

\plate {} {(yp)(yt)(yn)(up)(ut)(un)}{};

\end{tikzpicture}